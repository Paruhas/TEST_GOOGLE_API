13.805403, 100.574711;
13.812709, 100.559944;

/**
 * LARDPRAO TEST U-TURN
 */
arr = {
  geocoded_waypoints: [
    {
      geocoder_status: "OK",
      place_id: "ChIJr4XIkMid4jARhXwiJF9s6D4",
      types: ["street_address"],
    },
    {
      geocoder_status: "OK",
      place_id: "ChIJY2nzO8Wd4jARElpXqoEUuJs",
      types: ["establishment", "point_of_interest"],
    },
  ],
  routes: [
    {
      bounds: {
        northeast: {
          lat: 13.8204508,
          lng: 100.5641694,
        },
        southwest: {
          lat: 13.8115686,
          lng: 100.559029,
        },
      },
      copyrights: "Map data ©2022",
      legs: [
        {
          distance: {
            text: "1.6 km",
            value: 1627,
          },
          duration: {
            text: "3 mins",
            value: 182,
          },
          end_address:
            "1687/1 Phahol 19 Building Phahonyothin Rd, Khwaeng Chatuchak, Khet Chatuchak, Krung Thep Maha Nakhon 10900, Thailand",
          end_location: {
            lat: 13.8204508,
            lng: 100.5641694,
          },
          start_address:
            "144/103 Lat Phrao Rd, Samsen Nok, Huai Khwang, Krung Thep Maha Nakhon 10310, Thailand",
          start_location: {
            lat: 13.8125034,
            lng: 100.5619959,
          },
          steps: [
            {
              distance: {
                text: "0.2 km",
                value: 230,
              },
              duration: {
                text: "1 min",
                value: 29,
              },
              end_location: {
                lat: 13.8133024,
                lng: 100.5601333,
              },
              html_instructions:
                "Head \u003cb\u003enorthwest\u003c/b\u003e on \u003cb\u003eถ. ลาดพร้าว\u003c/b\u003e toward \u003cb\u003eซอย ลาดพร้าว 2\u003c/b\u003e",
              polyline: {
                points: "cwhsAo_xdRO\\GNe@`Aa@z@g@dAKTKRGNA@IX?H@H@?NX",
              },
              start_location: {
                lat: 13.8125034,
                lng: 100.5619959,
              },
              travel_mode: "DRIVING",
            },
            {
              distance: {
                text: "37 m",
                value: 37,
              },
              duration: {
                text: "1 min",
                value: 6,
              },
              end_location: {
                lat: 13.813019,
                lng: 100.5599492,
              },
              html_instructions:
                "Slight \u003cb\u003eleft\u003c/b\u003e at \u003cb\u003eแยก ลาดพร้าว\u003c/b\u003e onto \u003cb\u003eRoute 1\u003c/b\u003e",
              maneuver: "turn-slight-left",
              polyline: {
                points: "c|hsAyswdRZPZP",
              },
              start_location: {
                lat: 13.8133024,
                lng: 100.5601333,
              },
              travel_mode: "DRIVING",
            },
            {
              distance: {
                text: "0.1 km",
                value: 146,
              },
              duration: {
                text: "1 min",
                value: 22,
              },
              end_location: {
                lat: 13.8117937,
                lng: 100.559717,
              },
              html_instructions:
                "Keep \u003cb\u003eright\u003c/b\u003e to stay on \u003cb\u003eRoute 1\u003c/b\u003e",
              maneuver: "keep-right",
              polyline: {
                points: "kzhsAurwdRl@b@BBLFPHD@H?@?Z?NALAHARARAPARA",
              },
              start_location: {
                lat: 13.813019,
                lng: 100.5599492,
              },
              travel_mode: "DRIVING",
            },
            {
              distance: {
                text: "48 m",
                value: 48,
              },
              duration: {
                text: "1 min",
                value: 8,
              },
              end_location: {
                lat: 13.8115702,
                lng: 100.5594042,
              },
              html_instructions:
                "Slight \u003cb\u003eright\u003c/b\u003e toward \u003cb\u003eRoute 1\u003c/b\u003e",
              maneuver: "turn-slight-right",
              polyline: {
                points: "urhsAgqwdRJBB?B@D@B@@BBB@D@F@L@B?@?@?H",
              },
              start_location: {
                lat: 13.8117937,
                lng: 100.559717,
              },
              travel_mode: "DRIVING",
            },
            {
              distance: {
                text: "7 m",
                value: 7,
              },
              duration: {
                text: "1 min",
                value: 1,
              },
              end_location: {
                lat: 13.8115686,
                lng: 100.5593424,
              },
              html_instructions:
                "Keep \u003cb\u003eright\u003c/b\u003e to continue toward \u003cb\u003eRoute 1\u003c/b\u003e",
              maneuver: "keep-right",
              polyline: {
                points: "iqhsAgowdR?J",
              },
              start_location: {
                lat: 13.8115702,
                lng: 100.5594042,
              },
              travel_mode: "DRIVING",
            },
            {
              distance: {
                text: "45 m",
                value: 45,
              },
              duration: {
                text: "1 min",
                value: 7,
              },
              end_location: {
                lat: 13.8117993,
                lng: 100.559029,
              },
              html_instructions:
                "Keep \u003cb\u003eright\u003c/b\u003e to continue toward \u003cb\u003eRoute 1\u003c/b\u003e",
              maneuver: "keep-right",
              polyline: {
                points: "iqhsA{nwdRAP?@A@?BCBEDA@C@KJMH",
              },
              start_location: {
                lat: 13.8115686,
                lng: 100.5593424,
              },
              travel_mode: "DRIVING",
            },
            {
              distance: {
                text: "9 m",
                value: 9,
              },
              duration: {
                text: "1 min",
                value: 2,
              },
              end_location: {
                lat: 13.8118451,
                lng: 100.5590973,
              },
              html_instructions:
                "Turn \u003cb\u003eright\u003c/b\u003e onto \u003cb\u003eRoute 1\u003c/b\u003e",
              maneuver: "turn-right",
              polyline: {
                points: "wrhsA}lwdRIM",
              },
              start_location: {
                lat: 13.8117993,
                lng: 100.559029,
              },
              travel_mode: "DRIVING",
            },
            {
              distance: {
                text: "1.1 km",
                value: 1105,
              },
              duration: {
                text: "2 mins",
                value: 107,
              },
              end_location: {
                lat: 13.8204508,
                lng: 100.5641694,
              },
              html_instructions:
                'Turn \u003cb\u003eleft\u003c/b\u003e to stay on \u003cb\u003eRoute 1\u003c/b\u003e\u003cdiv style="font-size:0.9em"\u003eDestination will be on the left\u003c/div\u003e',
              maneuver: "turn-left",
              polyline: {
                points:
                  "ashsAkmwdRG?CAC?IAKCSKQIWOAAA?KEMICAKGA?i@Y_@UMICAKGUOOIOKWKKGA?AAECCAMCMIEEQKECGC[O[Mk@c@[QYMIE]QMIGCGEq@YkB}@c@SaAi@WMUMMG_@Sw@]y@]_@QQKy@a@IEQKeAi@IEKGgAk@e@WICMGAAC?YQYOUKGCm@Ww@]YOAA[O",
              },
              start_location: {
                lat: 13.8118451,
                lng: 100.5590973,
              },
              travel_mode: "DRIVING",
            },
          ],
          traffic_speed_entry: [],
          via_waypoint: [],
        },
      ],
      overview_polyline: {
        points:
          "cwhsAo_xdRgDjHKZ@RPXv@b@~@n@b@JpCMXFJNDr@CXOLYTIMG?GAUE}@e@]QyBmAmAq@UMaBy@[Mk@c@u@_@}@e@iEqB}BmAqDaBgB_AcFiCuEwB]Q",
      },
      summary: "Route 1",
      warnings: [],
      waypoint_order: [],
    },
  ],
  status: "OK",
};

res = [];

data = arr.routes[0].legs[0];

for (let index = 0; index < data.steps.length; index++) {
  indexData = data.steps[index];

  if (indexData.maneuver && indexData.maneuver.search("uturn") !== -1) continue;

  res.push({
    location: {
      latitude: indexData.start_location.lat,
      longitude: indexData.start_location.lng,
    },
  });
  res.push({
    location: {
      latitude: indexData.end_location.lat,
      longitude: indexData.end_location.lng,
    },
  });
}

b = "";

res.map((item) => {
  b = b + item.location.latitude + "," + item.location.longitude + "|";

  return item;
});

if (b[b.length - 1] === "|") {
  b = b.slice(0, b.length - 1);
}

b;
